% This is a Latex 2e document.
% This is Test 1 for sm221
% Written by David Phillips
% hi
\documentclass[10pt]{article}

\usepackage{amsmath, amssymb, amsfonts}
\usepackage{geometry,xspace}
\usepackage{graphics,graphicx,psfrag}
\usepackage{enumerate,color}
\usepackage{gastex}
\usepackage{tikz}
\usepackage{fancyhdr}

\pagestyle{fancy}
\fancyhf{}
\rhead{19 October 2017}
\chead{Quiz 6}
\lhead{SA405, Fall 2017}
\rfoot{Page \thepage}

\input{../../preface}

%\addtolength{\oddsidemargin}{-2.0cm}
%\addtolength{\evensidemargin}{-2.0cm}
%\addtolength{\textwidth}{3.0cm}
%\addtolength{\topmargin}{-2.5cm}
%\addtolength{\textheight}{4.5cm}

\newcommand{\binvar}[1]{\left\{
    \begin{array}{ll}
      1 & \mbox{#1} \\
      0 & \mbox{otherwise.}
    \end{array}
    \right.}

\newcommand{\points}[1]{{\it (#1 Points)}}

\begin{document}

The city council for Opstown, OR wants to determine how many fire stations they need to open in order to best serve their citizens.  They want to use the graph below to help them make their decision, where the nodes $J=\{1,5,7\}$ in dashed boxes are possible fire station locations, the nodes $I=\{1,2,\ldots,8\}$ are customer locations, and the edge weights correspond to direct distances between nodes $i$ and $j$ (in miles).  The total distance $d_{ij}$ corresponds to the length of the shortest path between nodes $i$ and $j$ (in miles).  

\begin{center}
        \begin{tikzpicture}
          [font=\scriptsize,
          node/.style={shape=circle,draw=black,fill=white!20, text=black,minimum width=0.5cm,thick},
          arc/.style={-,>=stealth,thick},
          edge/.style={thick}]
          
            \node (1) [node] at (0,2) {1};
            \draw[dotted] (-0.35,1.65) rectangle (0.35,2.35);
            \node (2) [node] at (3,2) {2};
            \node (3) [node] at (6,2) {3};
            \node (4) [node] at (1.5,0) {4};
            \node (5) [node] at (4.5,0) {5};
            \draw[dotted] (4.15,-0.35) rectangle (4.85,0.35);
            \node (6) [node] at (0,-2) {6};
            \node (7) [node] at (3,-2) {7};
            \draw[dotted] (2.65,-2.35) rectangle (3.35,-1.65);
            \node (8) [node] at (6,-2) {8};
 
          %\coordinate (A2) at (2.8,1.75);
          %\coordinate (A3) at (2.8,-1.75);
          %\coordinate (B2) at (3.2,1.75);
          %\coordinate (B3) at (3.2,-1.75);
          
          \draw [arc] (1) to node [auto] {3} (2);
          \draw [arc] (1) to node [auto] {1} (4);
          \draw [arc] (1) to node [auto] {1} (6);
          \draw [arc] (2) to node [auto] {5} (4);
          \draw [arc] (2) to node [auto] {1} (5);
          \draw [arc] (2) to node [auto] {1} (3);
          \draw [arc] (3) to node [auto] {3} (5);
          \draw [arc] (3) to node [auto] {3} (8);
          \draw [arc] (4) to node [auto] {3} (6);
          \draw [arc] (4) to node [auto] {3} (7);
          \draw [arc] (4) to node [auto] {5} (5);
          \draw [arc] (5) to node [auto] {4} (7);
          \draw [arc] (5) to node [auto] {2} (8);
          \draw [arc] (6) to node [auto] {2} (7);
          \draw [arc] (7) to node [auto] {5} (8);

        \end{tikzpicture}
\end{center}

You are consulting for Opstown.  The city council has decided that in order for a fire station to adequately service a citizen location, it must be no more than 3 miles from the customer location (i.e. $D=3$).  The city council has also gathered data on the number of citizens at each customer location $i$, defined as $h_i$, and is providing you with that information in the table below (in hundreds of citizens).  We assume that all ``demand'' can be met by any fire station location.

\vspace{0.25cm}

\begin{tabular}{l|c|c|c|c|c|c|c|c|}
Citizen Location &  1	&	2	&	3	&	4	&
5	&	6	&	7	&	8	
\\
\hline
$h_i$ & 45	&	90	&	110	&	35	&	60	&	105	&	80	&	100	
\end{tabular}

\vspace{.5cm}

\noindent The city council wants to use the following decision variables in their formulation.
\begin{tabbing}
\noindent{\bf Decision Variables [units]}\\[0.2cm]
\hspace*{.5cm} \= $X_j$ \hspace{1cm} \= 1 if node $j$ is the location of a fire station, 0 otherwise  [binary] \\
\> $Y_{i}$ \> 1 if node $i$ has its ``demand'' satisfied by some fire station, 0 otherwise  [binary] \\ 
\end{tabbing}

\begin{enumerate}
\item \points{5} The city council would like to know the minimum number of fire stations they need to open.  Using the information above, write an objective function that minimizes the total number of fire stations that need to be opened.

\vspace{0.4cm}
\vfill

\item \points{3} If we define $N_i = \{ j \in J: d_{ij} \leq D \}$ as the neighborhood of $i$, or the set of all fire stations $j$ that can serve customer location $i$.  What is the neighborhood of node 2?
  \vfill


\newpage

\item \points{3} You were able to successfully formulate a set covering location problem, and told the city council they needed to open 2 fire stations.  Based on budget limitations, the city council said they could actually only afford to open a single fire station.  Write a constraint which ensures the total number of open fire stations is equal to one.

  \vfill

\item \points{5} Because they can only open a single fire station, some citizens will not live close enough to a fire station to be adequately served.  The city council would like to maximize the number of citizens who are adequately covered by the single open fire station.  Using the information above, write an objective function that maximizes the number of citizens covered by the open fire station.

  \vfill

\end{enumerate}





\end{document}



%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
